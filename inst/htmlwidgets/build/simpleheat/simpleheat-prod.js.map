{"version":3,"sources":["webpack://simpleheat/webpack/bootstrap","webpack://simpleheat/./node_modules/simpleheat/simpleheat.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","simpleheat","canvas","this","_canvas","document","getElementById","_ctx","getContext","_width","width","_height","height","_max","_data","defaultRadius","defaultGradient","0.4","0.6","0.7","0.8","1","data","max","add","point","push","clear","radius","blur","undefined","circle","_circle","_createCanvas","ctx","r2","_r","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","arc","Math","PI","closePath","fill","resize","gradient","grad","createLinearGradient","addColorStop","fillStyle","fillRect","_grad","getImageData","draw","minOpacity","clearRect","len","length","globalAlpha","drawImage","colored","_colorize","putImageData","pixels","j","createElement","constructor"],"mappings":"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","file":"simpleheat-prod.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\n\nif (typeof module !== 'undefined') module.exports = simpleheat;\n\nfunction simpleheat(canvas) {\n    if (!(this instanceof simpleheat)) return new simpleheat(canvas);\n\n    this._canvas = canvas = typeof canvas === 'string' ? document.getElementById(canvas) : canvas;\n\n    this._ctx = canvas.getContext('2d');\n    this._width = canvas.width;\n    this._height = canvas.height;\n\n    this._max = 1;\n    this._data = [];\n}\n\nsimpleheat.prototype = {\n\n    defaultRadius: 25,\n\n    defaultGradient: {\n        0.4: 'blue',\n        0.6: 'cyan',\n        0.7: 'lime',\n        0.8: 'yellow',\n        1.0: 'red'\n    },\n\n    data: function (data) {\n        this._data = data;\n        return this;\n    },\n\n    max: function (max) {\n        this._max = max;\n        return this;\n    },\n\n    add: function (point) {\n        this._data.push(point);\n        return this;\n    },\n\n    clear: function () {\n        this._data = [];\n        return this;\n    },\n\n    radius: function (r, blur) {\n        blur = blur === undefined ? 15 : blur;\n\n        // create a grayscale blurred circle image that we'll use for drawing points\n        var circle = this._circle = this._createCanvas(),\n            ctx = circle.getContext('2d'),\n            r2 = this._r = r + blur;\n\n        circle.width = circle.height = r2 * 2;\n\n        ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n        ctx.shadowBlur = blur;\n        ctx.shadowColor = 'black';\n\n        ctx.beginPath();\n        ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fill();\n\n        return this;\n    },\n\n    resize: function () {\n        this._width = this._canvas.width;\n        this._height = this._canvas.height;\n    },\n\n    gradient: function (grad) {\n        // create a 256x1 gradient that we'll use to turn a grayscale heatmap into a colored one\n        var canvas = this._createCanvas(),\n            ctx = canvas.getContext('2d'),\n            gradient = ctx.createLinearGradient(0, 0, 0, 256);\n\n        canvas.width = 1;\n        canvas.height = 256;\n\n        for (var i in grad) {\n            gradient.addColorStop(+i, grad[i]);\n        }\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, 1, 256);\n\n        this._grad = ctx.getImageData(0, 0, 1, 256).data;\n\n        return this;\n    },\n\n    draw: function (minOpacity) {\n        if (!this._circle) this.radius(this.defaultRadius);\n        if (!this._grad) this.gradient(this.defaultGradient);\n\n        var ctx = this._ctx;\n\n        ctx.clearRect(0, 0, this._width, this._height);\n\n        // draw a grayscale heatmap by putting a blurred circle at each data point\n        for (var i = 0, len = this._data.length, p; i < len; i++) {\n            p = this._data[i];\n            ctx.globalAlpha = Math.max(p[2] / this._max, minOpacity === undefined ? 0.05 : minOpacity);\n            ctx.drawImage(this._circle, p[0] - this._r, p[1] - this._r);\n        }\n\n        // colorize the heatmap, using opacity value of each pixel to get the right color from our gradient\n        var colored = ctx.getImageData(0, 0, this._width, this._height);\n        this._colorize(colored.data, this._grad);\n        ctx.putImageData(colored, 0, 0);\n\n        return this;\n    },\n\n    _colorize: function (pixels, gradient) {\n        for (var i = 0, len = pixels.length, j; i < len; i += 4) {\n            j = pixels[i + 3] * 4; // get gradient color from opacity value\n\n            if (j) {\n                pixels[i] = gradient[j];\n                pixels[i + 1] = gradient[j + 1];\n                pixels[i + 2] = gradient[j + 2];\n            }\n        }\n    },\n\n    _createCanvas: function () {\n        if (typeof document !== 'undefined') {\n            return document.createElement('canvas');\n        } else {\n            // create a new canvas instance in node.js\n            // the canvas class needs to have a default constructor without any parameter\n            return new this._canvas.constructor();\n        }\n    }\n};\n"],"sourceRoot":""}